<!DOCTYPE HTML>
<!--
	Strata by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)Upload
-->
<html>
	<head>
		<title>Welcome to my website</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--<link href="https://kit-pro.fontawesome.com/releases/v5.15.4/css/pro.min.css" rel="stylesheet">-->
		<link rel="icon" type="image/png" href="images/pe.png">
	</head>
	<body class="is-preload">
<div id="carousel" class="carousel">
  <div class="slides">
    <div class="slide"><img src="https://api.carlosgutierrez.com.uy/fotos/fotos/186550/ppal-mobile-2x.jpg" alt="Image 1" id="laimagen"></div>
    <div class="slide"><img src="https://api.carlosgutierrez.com.uy/fotos/fotos/186551/ppal-mobile-2x.jpg" alt="Image 2" id="laimagen"></div>
    <div class="slide"><img src="https://api.carlosgutierrez.com.uy/fotos/fotos/186552/ppal-mobile-2x.jpg" alt="Image 3" id="laimagen"></div>
  </div>
<button id="prev" class="arrow-left" style="width: 45%; max-width: 50px; height: 95%; max-height: 80px;">
  <!-- SVG code for left arrow -->
  <svg height="100%" width="100%" viewBox="0 0 100 100">
    <path d="M70,20 L30,50 L70,80"
      stroke="white"
      stroke-width="10"
      fill-opacity="0"
    />
  </svg>  
</button>
<button id="next" class="arrow-right" style="width: 45%; max-width: 50px; height: 95%; max-height: 80px;">
  <!-- SVG code for right arrow -->
  <svg height="100%" width="100%" viewBox="0 0 100 100">
    <path d="M30,20 L70,50 L30,80"
      stroke="white"
      stroke-width="10"
      fill-opacity="0"
    />
  </svg>  
</button>
</div>
  
<style>
body {
  background-color: black;
}

.carousel {
  max-width: 800px; /* set your desired maximum width */
  width: 100%;
  margin: auto;
  position: relative;
}

.slides {
  display:flex;
  overflow-x:hidden;
  transition:transform .4s ease-in-out;
}

.slide {
  flex: none;
  width: 100%;
  display: none;
  justify-content: center;
  align-items: center;
}

#laimagen {
  max-width:100%;
  border: 5px solid gainsboro; /* add this line */
}

button {
  position:absolute; /* change from absolute to fixed */
  top:50%;
  transform:translateY(-50%);
  background-color: grey; /* add this line */
  border: 2px solid black; /* add this line */
  border-radius: 10px; /* add this line */	
}

#prev {
  left:0;
  margin-left: -4em; /* add this line */
}

#next {
  right:0;
  margin-right: -4em; /* add this line */
}

</style>						
<script>
const carousel = document.querySelector(".carousel");
const images = carousel.querySelectorAll("img");
let currentImage = 0;

carousel.addEventListener("touchstart", handleTouchStart);
carousel.addEventListener("touchend", handleTouchEnd);

const leftArrow = document.getElementById("prev");
const rightArrow = document.getElementById("next");

leftArrow.addEventListener('click', function() {
  currentImage--;
  if (currentImage < 0) {
    currentImage = images.length - 1;
  }
  updateCarousel();
});

rightArrow.addEventListener('click', function() {
  currentImage++;
  if (currentImage >= images.length) {
    currentImage = 0;
  }
  updateCarousel();
});

let xDown = null;
let yDown = null;

function handleTouchStart(event) {
  xDown = event.touches[0].clientX;
  yDown = event.touches[0].clientY;
}

function handleTouchEnd(event) {
  if (!xDown || !yDown) {
    return;
  }

  const xUp = event.changedTouches[0].clientX;
  const yUp = event.changedTouches[0].clientY;

  const xDiff = xDown - xUp;
  const yDiff = yDown - yUp;

  if (Math.abs(xDiff) > Math.abs(yDiff)) {
    if (xDiff > 0) {
      currentImage++;
      if (currentImage >= images.length) {
        currentImage = 0;
      }
      updateCarousel();
    } else {
      currentImage--;
      if (currentImage < 0) {
        currentImage = images.length - 1;
      }
      updateCarousel();
    }
  }
  xDown = null;
  yDown = null;
}

function updateCarousel() {
  const slides = carousel.querySelectorAll(".slide");
  for (let i = 0; i < images.length; i++) {
    if (i === currentImage) {
      slides[i].style.display = "block"; /* change this line */
    } else {
      slides[i].style.display = "none"; /* change this line */
    }
  }
}


updateCarousel()
</script>
	</body>
</html>
